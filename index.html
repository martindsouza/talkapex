<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>TalkApex</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="TalkApex">
<meta property="og:url" content="http://www.talkapex.com/index.html">
<meta property="og:site_name" content="TalkApex">
<meta property="article:author" content="Martin Giffy D&#39;Souza">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@martindsouza">
  
    <link rel="alternate" href="/atom.xml" title="TalkApex" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!-- <div id="banner"></div> -->
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <img src="/images/header-banner.png" alt="" />
      <!-- <h1 id="logo-wrap">
        <a href="/" id="logo">TalkApex</a>
      </h1> -->
      <!-- 
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Martin Giffy D&#39;Souza on Oracle APEX</a>
        </h2>
       -->
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.talkapex.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-how-to-find-which-item-has-been-changed-in-apex" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/how-to-find-which-item-has-been-changed-in-apex/" class="article-date">
  <time datetime="2021-01-31T22:07:51.000Z" itemprop="datePublished">2021-01-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/how-to-find-which-item-has-been-changed-in-apex/">How to Find Which Item has Been Changed in APEX</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I was recently developing an APEX page that had a lot of page items and a lot of Dynamic Actions (DA) on it. This is not usually a recommended approach (given that it can add complexity) but was justified given the business requirements. When testing the page I kept getting the <code>This page is asking you to confirm that you want to leave - data you have entered may not be saved.</code> when navigating away from the page despite not having explicitly changed any values. </p>
<img src="/2021/01/how-to-find-which-item-has-been-changed-in-apex/warning-message.png" class="">

<p>If you’re not too familiar with how this message works / is configured read <a href="/2021/01/apex-warn-on-unsaved-changes/" title="APEX: Warn on Unsaved Changes">APEX: Warn on Unsaved Changes</a></p>
<p>I tried a few quick checks to see if I could isolate which page item was causing the issue but wasn’t able to easily find it. Instead I created a script to find out which page item had changed. Here is the script I created to find out which item(s) changed which is based on <a href="https://www.sitepoint.com/detect-html-form-changes/" target="_blank" rel="noopener">this</a> article:</p>
<p><em>I’ve included a direct reference got Github Gist so that if updated it’ll be reflected here</em></p>
<script src="https://gist.github.com/martindsouza/e03b97ca7ac25ba5d5286a647187bca6.js"></script>

<p>A few notes / enhancements:</p>
<ul>
<li>Consider using <a href="https://docs.oracle.com/en/database/oracle/application-express/20.2/aexjs/item.html#isChanged" target="_blank" rel="noopener"><code>apex.item().isChanged()</code></a> syntax</li>
<li>Could explicitly loop through all APEX page items using the undocumented function <a href="https://blog.neilfernandez.com/loop-through-all-page-items-in-apex/" target="_blank" rel="noopener"><code>apex.page.forEachPageItem</code></a> that <a href="https://twitter.com/neilbfernandez" target="_blank" rel="noopener">Neil Fernandez</a> wrote about</li>
</ul>
<p>Once I found the problem item I could easily resolve why it was changing and the warning didn’t show up any more. </p>
<p>If you think there’s some additional elements that I should add to this list please update the <a href="https://gist.github.com/martindsouza/e03b97ca7ac25ba5d5286a647187bca6#file-apex-detect-changed-items-js" target="_blank" rel="noopener">Gist</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2021/01/how-to-find-which-item-has-been-changed-in-apex/" data-id="ckkmme2hu00hr01qx7qila1kw" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2021/01/how-to-find-which-item-has-been-changed-in-apex/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apex/" rel="tag">apex</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-apex-warn-on-unsaved-changes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/apex-warn-on-unsaved-changes/" class="article-date">
  <time datetime="2021-01-31T21:07:51.000Z" itemprop="datePublished">2021-01-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/apex-warn-on-unsaved-changes/">APEX: Warn on Unsaved Changes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>When an user makes a change to a form (ex: updates their phone number) and tries to navigate away (ex: hit back button, close tab, etc) without saving their changes they’ll get the following warning message: <code>This page is asking you to confirm that you want to leave - data you have entered may not be saved.</code></p>
<img src="/2021/01/apex-warn-on-unsaved-changes/warning-message.png" class="">

<p>To configure this option at a page level modify the page attribute <code>Warn on Unsaved Changes</code></p>
<img src="/2021/01/apex-warn-on-unsaved-changes/page-setting.png" class="">

<p>In some cases some page items will be changed but users shouldn’t be warned about them. Usually these are items that you have to store “temporary data” to be used in Dynamic Actions. To ignore these page items from change warnings, modify the page item and set its <code>Warn on Unsaved Changes</code>:</p>
<img src="/2021/01/apex-warn-on-unsaved-changes/item-setting.png" class="">

<p><em>Follow up article: <a href="/2021/01/how-to-find-which-item-has-been-changed-in-apex/" title="How to Find Which Item has Been Changed in APEX">How to Find Which Item has Been Changed in APEX</a></em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2021/01/apex-warn-on-unsaved-changes/" data-id="ckkmme2hi00hn01qx2g7ecrb3" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2021/01/apex-warn-on-unsaved-changes/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apex/" rel="tag">apex</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-connecting-to-oracle-cloud-database-ora-28759-failure-to-open-file" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/connecting-to-oracle-cloud-database-ora-28759-failure-to-open-file/" class="article-date">
  <time datetime="2021-01-31T20:42:24.000Z" itemprop="datePublished">2021-01-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/connecting-to-oracle-cloud-database-ora-28759-failure-to-open-file/">Connecting to Oracle Cloud Database ORA-28759: failure to open file</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>If you want to connect to a Autonomous Transaction Processing (ATP) database in the Oracle Cloud (OCI) using SQL*Plus, SQLcl, or SQL Developer you need to download a Credentials Wallet. If you’re unaware of this process please read <a href="https://dgielis.blogspot.com/2019/09/free-oracle-cloud-3-connecting-with-sql.html" target="_blank" rel="noopener">this</a> blog before continuing. </p>
<p>When connecting to to the database you may get the following error: <code>ORA-28759: failure to open file</code>. I got this error when connecting using a Docker container for SQLcl. <em>Note here are some docker images for both <a href="https://github.com/martindsouza/docker-oracle-sqlcl" target="_blank" rel="noopener">SQLcl</a> and <a href="https://github.com/martindsouza/docker-oracle-instant-client" target="_blank" rel="noopener">sql*plus</a></em></p>
<p>To resolve this issue you just need to modify the <code>sqlnet.ora</code> file (in the downloaded zip file) and change:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WALLET_LOCATION &#x3D; (SOURCE &#x3D; (METHOD &#x3D; file) (METHOD_DATA &#x3D; (DIRECTORY&#x3D;&quot;?&#x2F;network&#x2F;admin&quot;)))</span><br></pre></td></tr></table></figure>

<p>to:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WALLET_LOCATION &#x3D; (SOURCE &#x3D; (METHOD &#x3D; file) (METHOD_DATA &#x3D; (DIRECTORY&#x3D;&quot;$TNS_ADMIN&quot;)))</span><br></pre></td></tr></table></figure>

<p><em>Reminder: You need to set your <code>TNS_ADMIN</code> string</em></p>
<p>Thanks to <a href="https://twitter.com/fuzziebrain" target="_blank" rel="noopener">Adrian Png</a> for the help on this and related <a href="https://github.com/martindsouza/docker-oracle-sqlcl/issues/13" target="_blank" rel="noopener">Github Issue</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2021/01/connecting-to-oracle-cloud-database-ora-28759-failure-to-open-file/" data-id="ckkmme2hl00hp01qx2ask07um" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2021/01/connecting-to-oracle-cloud-database-ora-28759-failure-to-open-file/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oci/" rel="tag">oci</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oracle/" rel="tag">oracle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sqlplus/" rel="tag">sqlplus</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-the-biggest-hidden-bug-in-your-apex-application" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/the-biggest-hidden-bug-in-your-apex-application/" class="article-date">
  <time datetime="2021-01-31T20:03:23.000Z" itemprop="datePublished">2021-01-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/the-biggest-hidden-bug-in-your-apex-application/">The Biggest Hidden Bug in Your APEX Application</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>There’s been some feedback I’ve received on this so read all the way through</em></p>
<p>Let’s start with a little quiz. Without checking, what do you think happens/returns running the following query:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Note the two digit year</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'24-Jan-21'</span>, <span class="string">'DD-MON-YYYY'</span>)</span><br><span class="line"><span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<p>I recently <a href="https://twitter.com/martindsouza/status/1353550672919023617" target="_blank" rel="noopener">asked this same question</a> on Twitter and the results were quite interesting given that this <em>should</em> be a very straight forward answer. Over 50% of the people got it wrong:</p>
<img src="/2021/01/the-biggest-hidden-bug-in-your-apex-application/twitter-results.png" class="">


<p>The correct answer is that the query returns: <code>24-Jan-0021</code>. If you thought an error would be raised you’re in good company. I reached out to several <a href="https://developer.oracle.com/ace/" target="_blank" rel="noopener">Oracle ACE</a>s (i.e. world leading Oracle experts) and they all got it wrong as well (myself included).</p>
<p>By using a date format of <code>DD-MON-YYYY</code> if a user does not explicitly enter a four digit year, Oracle will left pad the number with <code>0</code>s. I.e. <code>21</code> becomes <code>0021</code>. This makes sense that one would expect <code>5-Jan-2021</code> to really be <code>05-Jan-2021</code>. </p>
<p>What does this have to do with your APEX application? In all my applications I tend to set the default date format to <code>DD-MON-YYYY</code> as it’s very explicit. <em>Note: to set the default date format in APEX go to <code>Shared Components &gt; Globalization &gt; Application Date Format</code>.</em> Most of the Date items that I use allow users to either enter the date manually or select from the date picker (via button click). Since entering a two digit year is a valid date neither APEX or Oracle raises an error so it’s extremely difficult to catch.</p>
<p>To get around this issue you can change the Application Date Format to: <code>DD-MON-RRRR</code>. From the <a href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Format-Models.html#GUID-6C75461E-2E18-4C35-9EB4-038A7E1C9C1F" target="_blank" rel="noopener">Oracle documentation</a>:</p>
<p><em>The RR datetime format element is similar to the YY datetime format element, but it provides additional flexibility for storing date values in other centuries. The RR datetime format element lets you store 20th century dates in the 21st century by specifying only the last two digits of the year.</em> </p>
<p>Using our initial example</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'24-Jan-21'</span>, <span class="string">'DD-MON-YYYY'</span>)</span><br><span class="line"><span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Returns</span></span><br><span class="line">24-jan-2021</span><br></pre></td></tr></table></figure>

<p>The nice thing about using the <code>RRRR</code> format is you can still display years as four digits but users can enter them in as two digits with expected results. If users are entering past dates (ex: cataloging old library books) I suggest you read the <a href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Format-Models.html#GUID-6C75461E-2E18-4C35-9EB4-038A7E1C9C1F" target="_blank" rel="noopener">documentation</a> to see if the <code>RRRR</code> format is the right setting for your application.</p>
<p><strong>Update</strong></p>
<p>Based on some <a href="https://twitter.com/AndrewSayer_/status/1355887019977826304" target="_blank" rel="noopener">Twitter feedback</a> by <a href="https://twitter.com/AndrewSayer_" target="_blank" rel="noopener">Andy Sayer</a> he pointed out that we could use the <code>FX</code> option in the date format to enforce <code>format exact</code>. Some examples:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'24-Jan-21'</span>, <span class="string">'FXDD-MON-YYYY'</span>)</span><br><span class="line"><span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Error</span></span><br><span class="line">ORA-01862: the numeric value does not match the length of the format item</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'24-Jan-2021'</span>, <span class="string">'FXDD-MON-YYYY'</span>)</span><br><span class="line"><span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Returns</span></span><br><span class="line">24-jan-2021</span><br><span class="line"></span><br><span class="line"><span class="comment">-- But not including a "0" prefix for the day number will also result in an error</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'4-Jan-2021'</span>, <span class="string">'FXDD-MON-YYYY'</span>)</span><br><span class="line"><span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Error</span></span><br><span class="line">ORA-01862: the numeric value does not match the length of the format item</span><br></pre></td></tr></table></figure>

<p>As you can see they’re some pros and cons to this approach. Documentation on the <code>FX</code> modifier can be found <a href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Format-Models.html#GUID-A4CCA8BD-1679-432E-96BA-22FB46FF23E0" target="_blank" rel="noopener">here</a></p>
<p>There was also some discussion about using the <code>FM</code> modifier in conjunction with the <code>FX</code> modifier to resolve the day padding problem. This doesn’t solve our two digit year problem as it will just be padded with <code>0</code>s which means we’re back to our original problem as shown below. Documentation on <code>FM</code> modifier can be found <a href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Format-Models.html#GUID-A4CCA8BD-1679-432E-96BA-22FB46FF23E0" target="_blank" rel="noopener">here</a>.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'24-Jan-21'</span>, <span class="string">'FXFMDD-MON-YYYY'</span>)</span><br><span class="line"><span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Returns</span></span><br><span class="line">24-jan-0021</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2021/01/the-biggest-hidden-bug-in-your-apex-application/" data-id="ckkmme2lk00ky01qx3cumhgtf" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2021/01/the-biggest-hidden-bug-in-your-apex-application/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apex/" rel="tag">apex</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oracle/" rel="tag">oracle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql/" rel="tag">sql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-inline-function-in-dynamic-action-javascript-expression-in-apex" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/inline-function-in-dynamic-action-javascript-expression-in-apex/" class="article-date">
  <time datetime="2021-01-31T19:37:09.000Z" itemprop="datePublished">2021-01-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/inline-function-in-dynamic-action-javascript-expression-in-apex/">Inline Function in Dynamic Action JavaScript Expression in APEX</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In some Dynamic Actions (DA) settings in APEX you have the option to use a JavaScript (JS) Expression. A common example of this is setting a value where the <code>Set Type</code> is <code>JavaScript</code>:</p>
<img src="/2021/01/inline-function-in-dynamic-action-javascript-expression-in-apex/js-expression.png" class="">

<p>As the name (JavaScript Expression) suggests this should be an expression such as <code>1 + 2;</code> If you try to run multiple lines of code with a <code>return</code> statement (as shown above) the following error is raised:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught <span class="built_in">TypeError</span>: apex.da.initDaEventList is not a <span class="function"><span class="keyword">function</span></span></span><br></pre></td></tr></table></figure>

<p>To resolve this issue you can use an <a href="https://flaviocopes.com/javascript-iife/" target="_blank" rel="noopener">immediately-invoked Function Expressions (IIFE)</a> as the JavasScript Expression. The following example re-writes the code from the first example as an IIFE and will work as a valid JavaScript Expression in the DA:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">  <span class="keyword">return</span> today.getFullYear();</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>


<p>Thanks to <a href="https://twitter.com/fuzziebrain" target="_blank" rel="noopener">Adrian Png</a> and <a href="https://twitter.com/trentschafer" target="_blank" rel="noopener">Trent Schafer</a> for the help on this.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2021/01/inline-function-in-dynamic-action-javascript-expression-in-apex/" data-id="ckkmme2i100hu01qx2i7geruu" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2021/01/inline-function-in-dynamic-action-javascript-expression-in-apex/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apex/" rel="tag">apex</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dynamic-actions/" rel="tag">dynamic-actions</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-how-to-build-templates-in-aop" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/how-to-build-templates-in-aop/" class="article-date">
  <time datetime="2021-01-18T00:24:25.000Z" itemprop="datePublished">2021-01-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/how-to-build-templates-in-aop/">How to Quickly Build Templates in APEX Office Print</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>If you ever need to generate PDF reports, Excel files, or Word documents based on data from your APEX application (or from within your Oracle database) <a href="https://www.apexofficeprint.com/" target="_blank" rel="noopener">APEX Office Print</a> (AOP) is the tool for you. If you’ve never used or heard of AOP before you should review it before continuing with this article.</p>
<p>This is the desired outcome of the article below. To summarize the solution will allow me to quickly edit a Word template using Office 365. Then view the generated PDF in APEX with a minimal amount of effort.</p>
<img src="/2021/01/how-to-build-templates-in-aop/aop-template.gif" class="">

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>AOP has two common uses cases (personal opinion). The first is providing users the ability to download their reports exactly as they’re shown in any format they’d like. For example if they build an Interactive Report (IR) with row highlighting etc and click “Download”, AOP will make the report look exactly as the user defined it. The second, which this article focuses on, is to create customizable documents based on data in Oracle. A good example of this is generating a invoice for a customer.</p>
<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Using the later case, to generate a PDF invoice you need to create a Word or Excel file and use substitution string for AOP to replace data with. For example, to show the Invoice Number based on the column <code>invoice_num</code> you would reference <code>{invoice_num}</code> in your Word document. AOP with then “fill in” the substitution strings with your data. In this case the process is as follows:</p>
<ol>
<li>Define your query (with all the data)<ul>
<li>One time task unless more data is required </li>
</ul>
</li>
<li>Upload Word template file<ul>
<li>They’re various options as to where to store a file (more on this later)</li>
</ul>
</li>
<li>Generate the PDF<ul>
<li>This will involved downloading and then opening the PDF on your laptop</li>
</ul>
</li>
</ol>
<p>When initially building a template file the last two steps can happen many times. I.e. I want to see what the invoice would look like if I move some text over a bit. I’d need to re-upload the file then re-generate and download the PDF. This process has a few problems:</p>
<ul>
<li>It’s not good for multiple people working on the same template at the same time</li>
<li>There’s lots of steps involved once making a change to the template to see the resulting PDF</li>
</ul>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>To resolve the issues described above I created the following process to allow me to quickly build and view invoices using AOP and APEX. These steps require that you have an <a href="https://www.office.com" target="_blank" rel="noopener">Office 365</a> account. (<em>Note: if using a coporate Office 365 you’ll need the ability to share files with people outside of your organization. If you’re not allowed to use a personal account to host the template file</em>)</p>
<h3 id="Host-Template-on-OneDrive"><a href="#Host-Template-on-OneDrive" class="headerlink" title="Host Template on OneDrive"></a>Host Template on OneDrive</h3><ul>
<li>Go to <a href="https://onedrive.live.com/" target="_blank" rel="noopener">One Drive</a> and upload a new Word document<ul>
<li><strong>Note:</strong> <em>For some reason when creating the Word document directly in One Drive AOP can’t process the file. To get around this create a Word document on your desktop and upload</em></li>
<li><em>Note: the same steps can be used for any type of Office document (ex: Excel)</em></li>
</ul>
</li>
<li>Generate Share URL<ul>
<li>This will be a link to give others to work on modifying the Word template file</li>
<li>We’ll refer to this URL as the “Share URL”</li>
<li>Right click on the file and click <code>Share</code></li>
</ul>
</li>
</ul>
<img src="/2021/01/how-to-build-templates-in-aop/office-365-share-01.png" class="">

<ul>
<li>A new modal box pops up. Make sure to select the appropriate permissions (not critical that everyone can edit but does make it easy to share the link)</li>
<li>Select <code>Copy link</code> and save this link somewhere<ul>
<li>In my example the link is: <code>https://1drv.ms/w/s!AmD6WK_LJIvHq8xyy0JR-JT6ihJdPQ?e=xC88lZ</code></li>
</ul>
</li>
</ul>
<img src="/2021/01/how-to-build-templates-in-aop/office-365-share-02.png" class="">

<ul>
<li>Generate Embed URL<ul>
<li>This will be used by your database to download the template file and send to AOP</li>
<li>We’ll refer to this URL as the “Embed URL”</li>
<li>Right click on the file and click <code>Embed</code></li>
</ul>
</li>
</ul>
<img src="/2021/01/how-to-build-templates-in-aop/office-365-embed-01.png" class="">

<ul>
<li>A new slider pops up on the right hand side. Click <code>Generate</code></li>
</ul>
<img src="/2021/01/how-to-build-templates-in-aop/office-365-embed-02.png" class="">

<ul>
<li>Copy the <code>iframe</code> HTML tag and save this link<ul>
<li>In my example the HTML is: <code>&lt;iframe src=&quot;https://onedrive.live.com/embed?cid=C78B24CBAF58FA60&amp;resid=C78B24CBAF58FA60%21714354&amp;authkey=AKLKkXB0W5OfUZ4&amp;em=2&quot; width=&quot;476&quot; height=&quot;288&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;</code></li>
</ul>
</li>
</ul>
<img src="/2021/01/how-to-build-templates-in-aop/office-365-embed-03.png" class="">



<h3 id="APEX-Setup"><a href="#APEX-Setup" class="headerlink" title="APEX Setup"></a>APEX Setup</h3><p>Make sure that your APEX application has the latest <a href="http://www.apexofficeprint.com/docs/#apex-plug-in" target="_blank" rel="noopener">AOP plugins</a> installed. </p>
<p>Create a new page with a new region. Add the following text page items (<em>Note: you can change to hidden later on / load from a table</em>)</p>
<ul>
<li><code>P3120_ONEDRIVE_EMBED_IFRAME</code></li>
</ul>
<p>In the region add the following in the <code>Source &gt; Text</code> box:</p>
<p><code>&lt;div id=&quot;pdf&quot; data-aop-inline-pdf=&quot;onClick: Generate PDF&quot; style=&quot;width:100%;height:600px;&quot;&gt;&lt;/div&gt;</code></p>
<img src="/2021/01/how-to-build-templates-in-aop/apex-setup-region.png" class="">


<p>Create a new region button called <code>GENERATE_PDF</code></p>
<ul>
<li>Set the <code>Button Position</code> to <code>Edit</code></li>
<li>Right click on the button and <code>Create Dynamic Action</code><ul>
<li><code>Name</code>: <code>onClick: Generate PDF</code><ul>
<li>Note: <strong>Do Not</strong> this name must match the <code>data-aop-inline-pdf</code> from the previous <code>div</code> tag</li>
</ul>
</li>
<li>Add the following actions:<ul>
<li><code>Execute Server Side Code</code><ul>
<li>Items to Submit: <code>P3120_ONEDRIVE_EMBED_IFRAME</code></li>
<li>PL/SQL Code:</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">  l_download_url <span class="built_in">varchar2</span>(<span class="number">4000</span>);</span><br><span class="line">  l_blob blob;</span><br><span class="line">  l_file_name varchar2(4000);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">-- Need to replace ampersand with amp; for XML parsing</span></span><br><span class="line">  <span class="comment">-- Need to do in SQL as extractvalue not PL/SQL</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">replace</span>(extractvalue(<span class="keyword">xmltype</span>(<span class="keyword">replace</span>(:p3120_onedrive_embed_iframe, <span class="keyword">chr</span>(<span class="number">38</span>), <span class="keyword">chr</span>(<span class="number">38</span>) || <span class="string">'amp;'</span>)), <span class="string">'/iframe/@src'</span>), <span class="string">'embed'</span>, <span class="string">'download'</span>)</span><br><span class="line">  <span class="keyword">into</span> l_download_url</span><br><span class="line">  <span class="keyword">from</span> dual;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Need to download the blob here as AOP expects a filename in the URL. The Office downloads don't have that.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Download the file into a blob</span></span><br><span class="line">  l_blob := apex_web_service.make_rest_request_b(</span><br><span class="line">    p_url =&gt; l_download_url,</span><br><span class="line">    p_http_method =&gt; 'GET');</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Need to extract filename so that we can get the file extension</span></span><br><span class="line">  for i in 1.. apex_web_service.g_headers.count loop</span><br><span class="line">    if apex_web_service.g_headers(i).name = 'Content-Disposition' then</span><br><span class="line">      <span class="comment">-- Value will look like: attachment; filename="wo-test.docx"</span></span><br><span class="line">      l_file_name := trim('"' from  regexp_substr(apex_web_service.g_headers(i).value, '".*"'));</span><br><span class="line">      exit; <span class="comment">-- Don't need to parse headers anymore</span></span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Store in Collection for retrieval from AOP</span></span><br><span class="line">  apex_collection.create_or_truncate_collection(</span><br><span class="line">    p_collection_name =&gt; 'AOP_TEMPLATE');</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Load</span></span><br><span class="line">  apex_collection.add_member(</span><br><span class="line">    p_collection_name =&gt; 'AOP_TEMPLATE',</span><br><span class="line">    p_c001 =&gt; l_file_name,</span><br><span class="line">    p_c002 =&gt; apex_string_util.get_file_extension(l_file_name),</span><br><span class="line">    p_blob001 =&gt; l_blob</span><br><span class="line">  );</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<img src="/2021/01/how-to-build-templates-in-aop/apex-da-execute-plsql.png" class="">


<ul>
<li>Plugin: <code>UC - APEX Office Print (AOP) - DA [Plug-In]</code><ul>
<li><em>Note: You’ll to have installed the AOP Plugins for this to show up in list</em></li>
<li>Settings:<ul>
<li>Template Type: <code>SQL</code></li>
<li>Template Source:</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">  ac.c002 file_ext,</span><br><span class="line">  ac.blob001 blob_contents</span><br><span class="line"><span class="keyword">from</span> apex_collections ac</span><br><span class="line"><span class="keyword">where</span> <span class="number">1</span>=<span class="number">1</span></span><br><span class="line">  <span class="keyword">and</span> ac.collection_name = <span class="string">'AOP_TEMPLATE'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Data Type: <code>SQL</code></li>
<li>Data Source:</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Change this to reference you tables etc</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">  <span class="string">'demo'</span> <span class="keyword">as</span> <span class="string">"filename"</span>,</span><br><span class="line">  <span class="keyword">cursor</span>(</span><br><span class="line">    <span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>, <span class="string">'DD-MON-YYYY'</span>) <span class="keyword">as</span> <span class="string">"today"</span></span><br><span class="line">    <span class="keyword">from</span> dual</span><br><span class="line">  ) <span class="keyword">as</span> <span class="string">"data"</span></span><br><span class="line"><span class="keyword">from</span> dual</span><br></pre></td></tr></table></figure>

<ul>
<li>Output Type: <code>PDF</code><ul>
<li><em>Note you can change this to a different type of file later but for the preview in APEX, PDF is required</em></li>
</ul>
</li>
<li>Output To: <code>Inline Region (pdf/html/md/txt only)</code><ul>
<li><em>This is what will make the PDF show up in APEX</em></li>
</ul>
</li>
</ul>
<img src="/2021/01/how-to-build-templates-in-aop/apex-da-aop-plugin.png" class="">


<p>Using the iFrame URL, users should be able to see the preview in APEX based on changes made in Office 365 (see video at top of article)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2021/01/how-to-build-templates-in-aop/" data-id="ckkmme2hc00hi01qxbuci6tdh" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2021/01/how-to-build-templates-in-aop/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aop/" rel="tag">aop</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-sqldeveloper-in-macos-big-sur" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/sqldeveloper-in-macos-big-sur/" class="article-date">
  <time datetime="2020-11-14T20:58:13.000Z" itemprop="datePublished">2020-11-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/sqldeveloper-in-macos-big-sur/">SQLDeveloper in macOS Big Sur</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>After upgrading to <a href="https://www.apple.com/ca/macos/big-sur/" target="_blank" rel="noopener">macOS Big Sur</a> I couldn’t run <a href="https://www.oracle.com/database/technologies/appdev/sqldeveloper-landing.html" target="_blank" rel="noopener">Oracle SQL Developer</a>. I got the following error: <code>The application “SQLDeveloper.app” can’t be opened</code></p>
<img src="/2020/11/sqldeveloper-in-macos-big-sur/macos-error.png" class="">

<p>To resolve this issue I got help from <a href="https://twitter.com/krisrice" target="_blank" rel="noopener">Kris Rice</a> and <a href="https://twitter.com/nielsdb" target="_blank" rel="noopener">Niels de Bruijn</a>. The issue is caused by Apple and the Java applet plugin. </p>
<p>Here’s how I got SQL Developer working:</p>
<h2 id="List-your-Java-Versions"><a href="#List-your-Java-Versions" class="headerlink" title="List your Java Versions"></a>List your Java Versions</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/usr/libexec/java_home -V</span><br><span class="line"></span><br><span class="line"><span class="comment"># This will give an output like:</span></span><br><span class="line"></span><br><span class="line">Matching Java Virtual Machines (3):</span><br><span class="line">    11.0.2 (x86_64) <span class="string">"Oracle Corporation"</span> - <span class="string">"Java SE 11.0.2"</span> /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home</span><br><span class="line">    1.8.271.09 (x86_64) <span class="string">"Oracle Corporation"</span> - <span class="string">"Java"</span> /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</span><br><span class="line">    1.8.0_201 (x86_64) <span class="string">"Oracle Corporation"</span> - <span class="string">"Java SE 8"</span> /Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home</span><br><span class="line">/Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home</span><br></pre></td></tr></table></figure>

<p>The one that caused the problem is the <code>&quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code> and you’ll need to remove it.</p>
<h2 id="Remove-the-Applet-Plugin"><a href="#Remove-the-Applet-Plugin" class="headerlink" title="Remove the Applet Plugin"></a>Remove the Applet Plugin</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf <span class="string">"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># After deleting this folder it should be removed from the Java Home list</span></span><br><span class="line">/usr/libexec/java_home -V</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output</span></span><br><span class="line">Matching Java Virtual Machines (2):</span><br><span class="line">    11.0.2 (x86_64) <span class="string">"Oracle Corporation"</span> - <span class="string">"Java SE 11.0.2"</span> /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home</span><br><span class="line">    1.8.0_201 (x86_64) <span class="string">"Oracle Corporation"</span> - <span class="string">"Java SE 8"</span> /Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home</span><br><span class="line">/Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home</span><br></pre></td></tr></table></figure>


<p>If you run SQL Developer now it should work. I’m not sure about the side effects of removing this Java applet plugin. If I find it to be critical to other things I’ll be sure to update this post.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2020/11/sqldeveloper-in-macos-big-sur/" data-id="ckkmme2de00fg01qxf36la3e0" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2020/11/sqldeveloper-in-macos-big-sur/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macos/" rel="tag">macos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql-developer/" rel="tag">sql-developer</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-screenshots-in-macos-and-continuity-markup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/screenshots-in-macos-and-continuity-markup/" class="article-date">
  <time datetime="2020-04-28T10:41:10.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/screenshots-in-macos-and-continuity-markup/">Screenshots in macOS and Continuity Markup</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In macOS Catalina (10.15) there’s a new (<em>maybe this was released in an earlier version</em>) version of the built in Screenshot app has some really cool features that addresses most of my screenshot needs. Before continuing you should read the following Apple support articles about the built in Screenshot tool:</p>
<ul>
<li><a href="https://support.apple.com/en-ca/HT201361" target="_blank" rel="noopener">How to take a screenshot</a></li>
<li><a href="https://support.apple.com/en-ca/guide/mac-help/mh26782/10.15/mac/10.15" target="_blank" rel="noopener">Screenshot tool features</a></li>
</ul>
<p>One thing that is a bit of a hidden gem is the ability to quickly markup screen shots both using the Markup tool. To activate the markup tool click the thumbnail icon of the screenshot (right after it’s taken). The following video highlights this:</p>
<img src="/2020/04/screenshots-in-macos-and-continuity-markup/macos-screenshot-markup.gif" class="">

<p>The Markup tool has a very cool feature called <a href="https://support.apple.com/en-ca/guide/mac-help/mchl1fd88863/10.15/mac/10.15" target="_blank" rel="noopener">Continuity Markup</a> that allows you to markup the screenshot either on your iPad or iPhone. The following video shows this. <em>Note: once I clicked on the thumbnail of my screenshot, in the bottom right corner on my screen, it automatically turned on my iPad for me!</em></p>
<p><video src="/2020/04/screenshots-in-macos-and-continuity-markup/macos-continuity-markup.mp4" controls></video></p>
<p>You can also use Continuity Markup when using <a href="https://support.apple.com/en-ca/guide/mac-help/mh14119/10.15/mac/10.15" target="_blank" rel="noopener">Quick Look</a> to preview a file (ex: hitting <code>spacebar</code> on a file in Finder).</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2020/04/screenshots-in-macos-and-continuity-markup/" data-id="ckkmme2d800fb01qxahlmago8" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2020/04/screenshots-in-macos-and-continuity-markup/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macos/" rel="tag">macos</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-apex-at-home" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/apex-at-home/" class="article-date">
  <time datetime="2020-03-26T23:33:18.000Z" itemprop="datePublished">2020-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/apex-at-home/">APEX@Home</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/2020/03/apex-at-home/apex-at-home-banner.jpeg" class="">

<p>Aside from the obvious, it’s been disappointing for a lot of people in our community seeing all the canceled conferences. Conferences are a great time to learn and meet new people. I was recently talking about this to <a href="https://twitter.com/fuzziebrain" target="_blank" rel="noopener">Adrian Png</a> and <a href="https://twitter.com/trentschafer" target="_blank" rel="noopener">Trent Schafer</a> and we decided to create a one-day mini conference called <a href="http://apexatho.me" target="_blank" rel="noopener">APEX@Home</a>. Since our initial discussion others have gotten involved (<a href="https://twitter.com/joelkallman" target="_blank" rel="noopener">Joel Kallman</a>, <a href="https://twitter.com/shakeeb" target="_blank" rel="noopener">Shakeeb Rahman</a>, <a href="https://twitter.com/peterraganitsch" target="_blank" rel="noopener">Peter Raganitsch</a>, and <a href="https://twitter.com/nielsdb" target="_blank" rel="noopener">Niels de Bruijn</a>) and it’s blown up into a full one day 24-hour conference - for FREE!</p>
<p><a href="http://apexatho.me" target="_blank" rel="noopener">APEX@Home</a> will be a bit different from normal webinars in the sense that everyone will be presenting from the comfort and safety of their homes (thus the name, <a href="http://apexatho.me" target="_blank" rel="noopener">APEX@Home</a>). We can expect some interruptions from kids, pets, etc. and we’ll make the most of it.</p>
<p>Everything you need to know:</p>
<ul>
<li><strong>When</strong>: Thursday April 16th starting at 00:01am EDT  going until 23:59pm EDT </li>
<li><strong>Where</strong>: Subscribe at <a href="https://apex.oracle.com/officehours" target="_blank" rel="noopener">apex.oracle.com/officehours</a> so you can receive reminders for this special event.</li>
<li><strong>Format</strong>: Each talk will begin on the hour. They will be 45 mins followed by a moderated 10min Q&amp;A then a 5 min break where the speakers will change.</li>
</ul>
<p>The full schedule and links to talk can be found <a href="http://apexatho.me" target="_blank" rel="noopener">here</a>. The schedule includes a link to add each talk that you want to attend to your calendar.</p>
<p><a href="http://apexatho.me" target="_blank" rel="noopener">APEX@Home</a> is for the community, by the community. Please help spread the word to your friends, colleagues, schools, clients, etc!</p>
<p>- Adrian, Martin, and Trent</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2020/03/apex-at-home/" data-id="ckkmme2ct00f401qxaczsfbso" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2020/03/apex-at-home/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apex/" rel="tag">apex</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-apex-19-form-pl-sql-processing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/apex-19-form-pl-sql-processing/" class="article-date">
  <time datetime="2020-03-13T13:00:00.000Z" itemprop="datePublished">2020-03-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/apex-19-form-pl-sql-processing/">APEX 19 Form PL/SQL Processing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Starting with APEX 19.1 a new form type was introduced that replaces the old “Auto DML” model with  much more robust functionality. <a href="https://twitter.com/cczarski" target="_blank" rel="noopener">Carsten Czarski</a> wrote an in depth <a href="https://blogs.oracle.com/apex/forms-in-apex-191-more-power%2c-more-flexibility" target="_blank" rel="noopener">article</a> about the new form regions and I suggest you read it before continuing with this post.</p>
<p>One really nice feature with the new form regions is the ability to have a PL/SQL process instead of automatic DML to save changes. This allows for all the great functionality to load data and manage lost updates, while having the customization of PL/SQL to process your data. An example of a Form Region with PL/SQL Code:</p>
<img src="/2020/03/apex-19-form-pl-sql-processing/plsql-process.png" class="">

<p><em>Note the PL/SQL code sample was taken from the help section for demo purposes.</em></p>
<p>Processes associated to a Form Region will only run if a value directly associated to that Form Region has changed. For example in the screen shot below, <code>P4_SAL</code> is associated with the <code>Emp</code> Form Region. If this value is changed than the process, <code>Process form Emp</code> (from the previous screen shot), will be executed.</p>
<img src="/2020/03/apex-19-form-pl-sql-processing/page-item-sal.png" class="">

<p>If a field is not associated with the Form Region and it’s changed then the process associated to that Form Region will not run. For example, suppose a new page item is added: <code>P4_SAL_INCREASE</code>. It is not associated to any Form Region: </p>
<img src="/2020/03/apex-19-form-pl-sql-processing/page-item-sal-increase.png" class="">

<p>The Form Region PL/SQL Processing code is then changed to:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="comment">-- Updating</span></span><br><span class="line">  when 'U' then</span><br><span class="line">    <span class="keyword">update</span> emp</span><br><span class="line">    <span class="keyword">set</span> sal  = :SAL + nvl(:P4_SAL_INCREASE, <span class="number">0</span>),</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">where</span> <span class="keyword">rowid</span>  = :<span class="keyword">ROWID</span>;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>If a user only updates <code>P4_SAL_INCREASE</code> then the page process <code>Process form Emp</code> (i.e. the process associated to the Form Region) will not run since none of the associated values have changed.</p>
<p>They’re several work arounds to this, each have their pros and cons:</p>
<ul>
<li>Create a computation or PL/SQL process (<em>that runs before the current process</em>) to set <code>:P4_SAL := :P4_SAL + nvl(:P4_SAL_INCREASE, 0)</code>. This will change the associate <code>P4_SAL</code> if <code>P4_SAL_INCREASE</code> has a value and therefore trigger the Form Region process to run.</li>
<li>Change the process type to <code>PL/SQL Code</code> (no associated Form Region). This will make things very straight forward but the built-in row locking and lost update prevention functionalities will be lost.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.talkapex.com/2020/03/apex-19-form-pl-sql-processing/" data-id="ckkmme2dc00fe01qxg5kw1nhr" class="article-share-link">Share</a>
      
        <a href="http://www.talkapex.com/2020/03/apex-19-form-pl-sql-processing/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apex-19/" rel="tag">apex-19</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title">Martin Giffy D'Souza</h3>
  <div class="widget aced">
    <img src="/images/profile-martin.jpg" alt="">&nbsp;&nbsp;<a href="http://goo.gl/IOHra" target="_blank" rel="noopener"><img src="/images/aced-logo.gif" alt="" /></a>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title">Links</h3>
  <div class="widget">
    <ul>
      <li><a id="sidebar-link-oos" href="https://github.com/oraopensource/" target="_blank">OraOpenSource</a></li>
      <li><a id="sidebar-link-podcast" href="http://apex.press/talkshow" target="_blank">Oracle APEX Podcast</a></li>
      <li><a id="sidebar-link-rss" href="/atom.xml">RSS Feed</a></li>
      <li><a id="sidebar-link-email" href="mailto:martin@talkapex.com">Email me</a></li>
      <li><a id="sidebar-link-twitter" href="https://twitter.com/martindsouza" target="_blank">Twitter</a></li>
      <li><a id="sidebar-link-linkedin" href="http://www.linkedin.com/in/martingiffydsouza" target="_blank">LinkedIn</a></li>
    </ul>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aop/" rel="tag">aop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apex/" rel="tag">apex</a><span class="tag-list-count">161</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apex-19/" rel="tag">apex-19</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apex-5/" rel="tag">apex-5</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apex-5-1/" rel="tag">apex-5.1</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apex-plugin/" rel="tag">apex-plugin</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/best-practice/" rel="tag">best-practice</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/checkbox/" rel="tag">checkbox</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chrome/" rel="tag">chrome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/" rel="tag">design</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dynamic-actions/" rel="tag">dynamic-actions</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interactive-report/" rel="tag">interactive-report</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iot/" rel="tag">iot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/" rel="tag">jquery</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kscope/" rel="tag">kscope</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logger/" rel="tag">logger</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macos/" rel="tag">macos</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meta/" rel="tag">meta</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oci/" rel="tag">oci</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/odtug/" rel="tag">odtug</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oos-utils/" rel="tag">oos-utils</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oow/" rel="tag">oow</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/open-source/" rel="tag">open-source</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle/" rel="tag">oracle</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle-12c/" rel="tag">oracle-12c</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle-18c/" rel="tag">oracle-18c</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ords/" rel="tag">ords</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plsql/" rel="tag">plsql</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">security</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql-data-modeler/" rel="tag">sql-data-modeler</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql-developer/" rel="tag">sql-developer</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlcl/" rel="tag">sqlcl</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlplus/" rel="tag">sqlplus</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tabular-form/" rel="tag">tabular-form</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


  
    <div class="widget-wrap">
  <h3 class="widget-title">Books</h3>
  <div class="widget">
    <table class="books">
      <tbody>
        <tr>
          <td><img src="/images/book-apex-plugins.jpeg" alt=""></td>
          <td><img src="/images/book-expert-apex-5.jpeg" alt=""></td>
        </tr>
        <tr>
          <td><a href="http://goo.gl/089zi" target="_blank" rel="noopener">APEX Plugins</a></td>
          <td><a href="http://bit.ly/talkapex-book-expert-2nd-ed" target="_blank" rel="noopener">Expert APEX 5</a></td>
        </tr>
        <tr>
          <td><img src="/images/book-begin-apex-4.jpeg" alt=""></td>
          <td><img src="/images/book-expert-apex-4.jpeg" alt=""></td>
        </tr>
        <tr>
          <td><a href="http://goo.gl/NxHoF" target="_blank" rel="noopener">Beginning APEX 4</a></td>
          <td><a href="http://goo.gl/tXm3P" target="_blank" rel="noopener">Expert APEX 4</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/">2015</a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/">2014</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/">2013</a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/">2012</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/">2011</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/">2010</a><span class="archive-list-count">40</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/">2009</a><span class="archive-list-count">51</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/">2008</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Martin Giffy D&#39;Souza<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'talkapex';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8016477-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




  </div>
</body>
</html>